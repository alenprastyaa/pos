import{j as Ae,r as l,c as O,y as $e,o as Me,A as R,b as d,a as Te,w as De,d as e,p as N,v as Y,B as G,u as re,e as u,F as K,h as z,q as h,z as Re,x as J,n as $,t as o,f as ie,i as Ne}from"./index-gocu0IY7.js";import{a as j,S as p}from"./sweetalert2.esm.all-BgBW3QO9.js";import{_ as Ke}from"./AdminLayout-lBlo5SBi.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ee={class:"page-container py-2 space-y-2 min-h-screen"},He={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 p-4"},qe={class:"lg:col-span-2 space-y-4"},Ue=["disabled"],Ve={class:"relative"},Le=["disabled"],Fe={key:0,class:"dropdown-container absolute top-full left-0 right-0 mt-2 rounded-lg shadow-xl z-20 max-h-screen overflow-y-auto"},Oe=["onClick"],Ye={class:"dropdown-text"},Ge={class:"font-bold text-lg text-gray-800"},Je={class:"flex justify-between mt-1"},Qe={class:"text-sm text-gray-500"},We={class:"text-green-600 font-bold text-md"},Xe=["onKeydown"],Ze={key:0,disabled:""},et=["value"],tt={key:0,class:"mt-4 card-section p-4 rounded-lg border"},at={class:"flex justify-between items-center"},st={key:0,class:"space-y-3 px-4"},nt={class:"flex items-center gap-2"},ot={class:"text-sm font-bold text-title"},lt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3"},rt={class:"mb-2"},it={class:"text-sm font-bold text-gray-800 truncate"},dt={class:"text-md font-bold text-orange-600 mt-1"},ut={class:"text-xs text-gray-500 mt-1"},ct={class:"flex gap-2 justify-end"},pt=["onClick"],gt=["onClick"],vt={class:"px-6 py-4 bg-footer border-t flex justify-between items-center mx-4 rounded-t-lg mt-4"},ft={class:"text-4xl font-bold text-gray-900"},mt={class:"card-section rounded-b-lg shadow-sm border overflow-hidden p-0 mx-4 mb-24"},bt={class:"overflow-x-auto"},xt={class:"w-full"},ht={class:"divide-y divide-gray-200"},yt={key:0},_t={class:"px-4 py-3 text-lg font-bold text-gray-700"},wt={class:"px-4 py-3"},kt={class:"text-lg font-semibold text-gray-800"},jt={class:"text-xs text-gray-500"},Bt={class:"px-4 py-3 text-center"},It=["onUpdate:modelValue","onChange"],Ct={class:"px-4 py-3 text-right text-lg font-medium text-gray-700"},St={class:"px-4 py-3 text-right text-lg font-bold text-gray-900"},Pt={class:"px-4 py-3 text-center"},At=["onClick"],$t={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-30"},Mt={class:"max-w-7xl mx-auto p-4"},Tt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Dt=["disabled"],Rt=["disabled"],Nt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Kt={class:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl relative z-10 overflow-hidden transform transition-all scale-100"},zt={class:"p-6 space-y-6"},Et={class:"relative"},Ht=["value"],qt={class:"bg-gray-50 rounded-xl p-5 border border-gray-200 space-y-3"},Ut={class:"flex justify-between text-gray-600"},Vt={class:"font-bold text-gray-900"},Lt={class:"flex justify-between text-gray-600"},Ft={class:"flex justify-between text-xl font-bold text-gray-800"},Ot={class:"flex justify-between text-lg text-gray-700"},Yt={class:"bg-white p-3 rounded-lg border border-gray-200 mt-2"},Gt={class:"px-6 py-4 bg-gray-50 border-t"},Jt=["disabled"],Qt={key:0,class:"animate-spin h-6 w-6",fill:"none",viewBox:"0 0 24 24"},Q="pendingTransactions_eceran",Wt=Ae({__name:"PenjualanReguler",setup(Xt){Ne();const y="https://alentest.my.id/pos",de=new Audio("/barcode.mp3"),W=localStorage.getItem("role_name"),M=l(null),i=l([]),c=l(""),E=l([]),H=l(!1),m=l(0),v=l([]),B=l(null),T=l(""),D=l(""),x=l([]),_=l(!1),b=l(-1),q=l(!1),f=l(0),I=l(""),w=l(!1),C=l(null),X=l(null),Z=l(null),ee=l(null),S=O(()=>i.value.reduce((a,t)=>a+t.qty*t.harga_jual_reguler,0)),te=O(()=>(Number(m.value)||0)+S.value),P=O(()=>(Number(f.value)||0)-te.value),k=()=>({Authorization:`Bearer ${localStorage.getItem("authToken")}`}),r=a=>a==null||isNaN(a)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),ue=a=>{const t=a.replace(/\D/g,""),s=parseInt(t)||0;f.value=s,t===""?I.value="":I.value=new Intl.NumberFormat("id-ID").format(s)},ce=a=>new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),pe=async()=>{try{const a=await j.get(`${y}/user/my/data`,{headers:k()});a.data.success&&(M.value=a.data.data)}catch(a){console.error(a)}},ge=async()=>{H.value=!0;try{const a=await j.get(`${y}/pelanggan`,{headers:k()});a.data.success&&(E.value=a.data.data)}catch(a){console.error(a)}finally{H.value=!1}},ae=async a=>{try{const t=await j.get(`${y}/pelanggan/${a}`,{headers:k()});t.data.success&&(m.value=Number(t.data.data.hutang)||0)}catch{m.value=0}};$e(c,a=>{a?ae(a):m.value=0});const ve=async()=>{const a=T.value.trim();if(a){try{const t=await j.post(`${y}/transaksi/scan`,{barcode:a},{headers:k()});if(t.data.success&&t.data.data){const s=t.data.data;try{de.play()}catch{}const n=parseFloat(s.harga_jual_reguler||s.harga_jual_biasa||0);ne({...s,harga_jual_reguler:n},1),p.fire({icon:"success",title:"Masuk Keranjang",text:s.nama_produk,timer:800,showConfirmButton:!1,toast:!0,position:"top-end"})}else p.fire({icon:"error",title:"Tidak Ditemukan",timer:1e3,showConfirmButton:!1})}catch{p.fire({icon:"error",title:"Error",text:"Produk tidak ditemukan",timer:1e3,showConfirmButton:!1})}T.value="",R(()=>{var t;return(t=C.value)==null?void 0:t.focus()})}},fe=async a=>{if(!a.trim()){x.value=[],_.value=!1;return}try{const t=await j.get(`${y}/produk`,{params:{search:a},headers:k()});t.data.success&&(x.value=t.data.data.data.map(s=>({...s,harga_jual_reguler:parseFloat(s.harga_jual_reguler||s.harga_jual_biasa||0)})),_.value=!0,b.value=-1)}catch{x.value=[]}},me=a=>{_.value&&(a.key==="ArrowDown"?(a.preventDefault(),b.value=Math.min(b.value+1,x.value.length-1)):a.key==="ArrowUp"?(a.preventDefault(),b.value=Math.max(b.value-1,-1)):a.key==="Enter"&&b.value>=0?(a.preventDefault(),se(x.value[b.value])):a.key==="Escape"&&(_.value=!1))},se=async a=>{var s;const{value:t}=await p.fire({title:"Jumlah Barang",text:a.nama_produk,input:"number",inputValue:1,inputAttributes:{autocapitalize:"off",autocomplete:"off"},showCancelButton:!0,confirmButtonColor:"#0891b2",didOpen:()=>{const n=p.getInput();n&&(n.focus(),n.select())}});t&&parseInt(t)>0&&(ne(a,parseInt(t)),D.value="",_.value=!1,(s=C.value)==null||s.focus())},ne=(a,t)=>{const s=i.value.find(n=>n.barcode===a.barcode);s?(s.qty+=t,i.value=[s,...i.value.filter(n=>n.barcode!==a.barcode)]):i.value.unshift({barcode:a.barcode,nama_produk:a.nama_produk,harga_jual_reguler:a.harga_jual_reguler,qty:t})},be=(a,t)=>{const s=i.value.find(n=>n.barcode===a);s&&(t<=0?oe(a):s.qty=t)},oe=a=>{i.value=i.value.filter(t=>t.barcode!==a)},xe=a=>ue(a.target.value),he=a=>{const t=a.target;f.value>0&&(t.value=f.value.toString())},ye=a=>{const t=a.target;f.value>0&&(t.value=I.value)},_e=a=>{var t;a.key==="Enter"&&(a.preventDefault(),(t=Z.value)==null||t.click())},we=()=>{if(!c.value)return p.fire("Info","Pilih pelanggan dulu","info");if(i.value.length===0)return p.fire("Info","Keranjang kosong","info");q.value=!0,R(()=>{var a;return(a=X.value)==null?void 0:a.focus()})},U=()=>{q.value=!1,R(()=>{var a;return(a=C.value)==null?void 0:a.focus()})},ke=()=>{var a;(a=ee.value)==null||a.focus()},je=()=>{const a=localStorage.getItem(Q);a&&(v.value=JSON.parse(a))},Be=()=>{if(!c.value||i.value.length===0)return;const a=E.value.find(s=>s.id===c.value),t={id:Date.now(),pelanggan_id:c.value,nama_pelanggan:(a==null?void 0:a.nama_pelanggan)||"Unknown",items:[...i.value],tanggal_simpan:new Date().toLocaleString(),total:S.value};v.value.push(t),localStorage.setItem(Q,JSON.stringify(v.value)),p.fire({icon:"success",title:"Disimpan Pending",toast:!0,position:"top-end",timer:1500,showConfirmButton:!1}),le()},Ie=a=>{c.value=a.pelanggan_id,i.value=a.items,B.value=a.id,V(a.id,!1)},V=(a,t=!0)=>{v.value=v.value.filter(s=>s.id!==a),localStorage.setItem(Q,JSON.stringify(v.value)),t&&p.fire({icon:"success",title:"Dihapus",toast:!0,position:"top-end",timer:1e3,showConfirmButton:!1})},Ce=async()=>{var t,s;if(w.value||P.value<0&&!(await p.fire({title:"Kurang Bayar!",html:`Kurang: <b style="color:red">${r(Math.abs(P.value))}</b><br>Catat sebagai Hutang?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hutang",confirmButtonColor:"#d33"})).isConfirmed)return;w.value=!0;const a={pelanggan_id:c.value,pembayaran:f.value,items:i.value.map(n=>({barcode:n.barcode,qty:n.qty}))};try{const n=await j.post(`${y}/transaksi/create/reguler`,a,{headers:k()});if(n.data.success){const g=n.data.data.transaksi,L=n.data.data.pelanggan;Se(g,L.nama_pelanggan,i.value,M.value.full_name,M.value.toko.nama_toko,M.value.toko.alamat),await p.fire({icon:"success",title:"Transaksi Berhasil",html:`Kembalian: <b style="font-size: 1.5em; color: green">${r(g.total_kembalian)}</b>`,timer:3e3}),le(),B.value&&V(B.value,!1),ae(c.value)}else p.fire("Gagal",n.data.message,"error")}catch(n){p.fire("Error",((s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)||"Terjadi kesalahan","error")}finally{w.value=!1}},le=()=>{c.value="",i.value=[],f.value=0,I.value="",B.value=null,U()},Se=(a,t,s,n,g,L)=>{const Pe=`
    <html>
        <head>
            <title>Struk #${a.id.substring(0,8)}</title>
            <style>
                body { font-family: 'Times New Roman', monospace; width: 100%; margin: 0; padding: 5px; font-size: 11px; color: #000; }
                .center { text-align: center; }
                .header { margin-bottom: 10px; }
                .meta { border-bottom: 1px dashed #000; padding-bottom: 5px; margin-bottom: 5px; }
                .flex { display: flex; justify-content: space-between; }
                .items { border-bottom: 1px dashed #000; padding-bottom: 5px; margin-bottom: 5px; }
                .item-row { margin-bottom: 2px; }
                .totals { font-weight: bold; }
            </style>
        </head>
        <body onload="window.print(); setTimeout(window.close, 500);">
            <div class="center header">
                <b>${g.toUpperCase()}</b><br>${L}
            </div>
            <div class="meta">
                <div class="flex"><span>${ce(a.createdAt)}</span><span>${a.id.substring(0,8)}</span></div>
                <div class="flex"><span>Kasir: ${n}</span><span>Plg: ${t}</span></div>
            </div>
            <div class="items">
                ${s.map(A=>`
                    <div class="item-row">
                        <div>${A.nama_produk}</div>
                        <div class="flex">
                            <span>${A.qty} x ${r(A.harga_jual_reguler)}</span>
                            <span>${r(A.qty*A.harga_jual_reguler)}</span>
                        </div>
                    </div>
                `).join("")}
            </div>
            <div class="totals">
                <div class="flex"><span>TOTAL</span><span>${r(a.total_harga)}</span></div>
                <div class="flex"><span>BAYAR</span><span>${r(a.total_bayar)}</span></div>
                <div class="flex"><span>KEMBALI</span><span>${r(a.total_kembalian)}</span></div>
                ${a.sisa_hutang>0?`<div class="flex" style="margin-top:5px"><span>SISA HUTANG</span><span>${r(a.sisa_hutang)}</span></div>`:""}
            </div>
            <div class="center" style="margin-top: 15px;">Terima Kasih</div>
        </body>
    </html>`,F=window.open("","","width=400,height=600");F&&(F.document.write(Pe),F.document.close())};return Me(()=>{pe(),ge(),je(),R(()=>{var a;return(a=C.value)==null?void 0:a.focus()})}),(a,t)=>(d(),Te(Ke,null,{default:De(()=>[e("div",Ee,[e("div",He,[e("div",qe,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-xl font-semibold label-text mb-2"}," Scan Barcode ",-1)),N(e("input",{ref_key:"barcodeInputRef",ref:C,"onUpdate:modelValue":t[0]||(t[0]=s=>T.value=s),type:"text",onKeyup:G(ve,["enter"]),disabled:re(W)!=="admin",placeholder:"Scan barcode di sini...",class:"input-field w-full h-12 px-4 text-xl rounded-lg transition"},null,40,Ue),[[Y,T.value]])]),e("div",Ve,[t[5]||(t[5]=e("label",{class:"block text-xl font-semibold label-text mb-2"}," Cari Produk Manual ",-1)),N(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>D.value=s),type:"text",style:{"font-size":"14px"},placeholder:"Ketik nama produk...",onInput:t[2]||(t[2]=s=>fe(D.value)),onKeydown:me,disabled:re(W)!=="admin",class:"input-field w-full h-12 px-4 text-xl rounded-lg transition"},null,40,Le),[[Y,D.value]]),_.value&&x.value.length>0?(d(),u("div",Fe,[(d(!0),u(K,null,z(x.value,(s,n)=>(d(),u("div",{key:s.barcode,onClick:g=>se(s),class:$([n===b.value?"dropdown-item-active":"dropdown-item","px-4 py-3 cursor-pointer last:border-b-0 transition border-b border-gray-100"])},[e("div",Ye,[e("div",Ge,o(s.nama_produk),1),e("div",Je,[e("span",Qe,o(r(s.harga_jual_reguler)),1),e("span",We,o(r(s.harga_jual_reguler)),1)])])],10,Oe))),128))])):h("",!0)])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-xl font-semibold label-text mb-2 ml-1"}," Pilih Pelanggan ",-1)),N(e("select",{ref:"pelangganSelectRef","onUpdate:modelValue":t[3]||(t[3]=s=>c.value=s),required:"",style:{"font-size":"14px"},onKeydown:G(J(ke,["prevent"]),["enter"]),class:"input-field w-full h-12 rounded-lg px-4 transition"},[t[6]||(t[6]=e("option",{value:"",disabled:""},"Pilih Pelanggan...",-1)),H.value?(d(),u("option",Ze,"Memuat...")):h("",!0),(d(!0),u(K,null,z(E.value,s=>(d(),u("option",{key:s.id,value:s.id},o(s.nama_pelanggan),9,et))),128))],40,Xe),[[Re,c.value]]),c.value?(d(),u("div",tt,[e("div",at,[t[7]||(t[7]=e("span",{class:"text-lg font-semibold text-gray-600"},"Hutang:",-1)),e("span",{class:$(["text-xl font-bold",m.value>0?"text-danger":"text-success"])},o(r(m.value)),3)])])):h("",!0)])]),v.value.length>0?(d(),u("div",st,[e("div",nt,[t[9]||(t[9]=e("div",{class:"w-1 h-6 indicator-bar rounded"},null,-1)),e("p",ot," Transaksi Pending ("+o(v.value.length)+") ",1)]),e("div",lt,[(d(!0),u(K,null,z(v.value,s=>(d(),u("div",{key:s.id,class:$(["p-3 border rounded-lg transition cursor-pointer pending-card hover:shadow-md",s.id===B.value?"pending-card-active":"pending-card-inactive"])},[e("div",rt,[e("p",it,o(s.nama_pelanggan),1),e("p",dt,o(r(s.total)),1),e("p",ut,o(s.tanggal_simpan),1)]),e("div",ct,[e("button",{onClick:n=>Ie(s),class:"btn-primary-small text-xs px-3 py-1.5 rounded font-medium transition"}," Muat ",8,pt),e("button",{onClick:n=>V(s.id),class:"btn-secondary-small text-xs px-3 py-1.5 rounded font-medium transition"}," Hapus ",8,gt)])],2))),128))])])):h("",!0),e("div",vt,[t[10]||(t[10]=e("span",{class:"text-2xl font-semibold text-gray-600"},"Total Belanja",-1)),e("span",ft,o(r(S.value)),1)]),e("div",mt,[e("div",bt,[e("table",xt,[t[13]||(t[13]=e("thead",null,[e("tr",{class:"table-header border-b"},[e("th",{class:"px-4 py-3 text-left text-white font-semibold"},"No"),e("th",{class:"px-4 py-3 text-left text-white font-semibold"},"Produk"),e("th",{class:"px-4 py-3 text-center text-white font-semibold"},"Qty"),e("th",{class:"px-4 py-3 text-right text-white font-semibold"},"Harga"),e("th",{class:"px-4 py-3 text-right text-white font-semibold"},"Subtotal"),e("th",{class:"px-4 py-3 text-center text-white font-semibold"},"Aksi")])],-1)),e("tbody",ht,[i.value.length===0?(d(),u("tr",yt,t[11]||(t[11]=[e("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-400"},[e("div",{class:"flex flex-col items-center justify-center space-y-2"},[e("svg",{class:"w-12 h-12 opacity-40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})]),e("p",{class:"text-lg"},"Keranjang kosong")])],-1)]))):h("",!0),(d(!0),u(K,null,z(i.value,(s,n)=>(d(),u("tr",{key:s.barcode,class:"hover:bg-blue-50 transition-colors"},[e("td",_t,o(n+1),1),e("td",wt,[e("div",kt,o(s.nama_produk),1),e("div",jt,o(s.barcode),1)]),e("td",Bt,[N(e("input",{"onUpdate:modelValue":g=>s.qty=g,type:"number",min:"1",onChange:g=>be(s.barcode,s.qty),class:"w-20 text-center border-2 border-gray-300 rounded-md py-1 text-lg font-bold focus:border-cyan-500 focus:outline-none"},null,40,It),[[Y,s.qty,void 0,{number:!0}]])]),e("td",Ct,o(r(s.harga_jual_reguler)),1),e("td",St,o(r(s.qty*s.harga_jual_reguler)),1),e("td",Pt,[e("button",{type:"button",onClick:g=>oe(s.barcode),class:"p-2 text-red-500 hover:bg-red-100 rounded-full transition-colors"},t[12]||(t[12]=[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,At)])]))),128))])])])]),e("div",$t,[e("div",Mt,[e("div",Tt,[e("button",{type:"button",ref_key:"bayarBtnRef",ref:ee,onClick:we,disabled:i.value.length===0||!c.value,class:"md:col-span-2 h-14 btn-submit text-xl font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t[14]||(t[14]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})],-1),e("span",null,"BAYAR SEKARANG ",-1)]),8,Dt),e("button",{type:"button",onClick:J(Be,["prevent"]),disabled:i.value.length===0||!c.value,class:"btn-pending h-14 text-lg font-semibold rounded-xl flex items-center justify-center gap-2 hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t[15]||(t[15]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),e("span",null,"Simpan Pending",-1)]),8,Rt)])])])]),q.value?(d(),u("div",Nt,[e("div",{class:"absolute inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:U}),e("div",Kt,[e("div",{class:"bg-gray-50 px-6 py-4 border-b flex justify-between items-center"},[t[17]||(t[17]=e("h3",{class:"text-2xl font-bold text-gray-800"},"Pembayaran",-1)),e("button",{onClick:U,class:"text-gray-400 hover:text-red-500 transition-colors"},t[16]||(t[16]=[e("svg",{class:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",zt,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-lg font-medium text-gray-700 mb-2"},[ie(" Uang Diterima "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Et,[t[18]||(t[18]=e("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400"},"Rp",-1)),e("input",{ref_key:"pembayaranInputRef",ref:X,value:I.value||f.value||"",onInput:xe,onFocus:he,onBlur:ye,onKeydown:G(_e,["enter"]),type:"text",required:"",placeholder:"0",class:"w-full h-16 pl-14 pr-4 rounded-xl border-2 border-gray-300 focus:border-cyan-500 focus:ring-0 text-4xl font-bold text-gray-900 transition-colors",autofocus:""},null,40,Ht)])]),e("div",qt,[e("div",Ut,[t[20]||(t[20]=e("span",null,"Total Belanja:",-1)),e("span",Vt,o(r(S.value)),1)]),e("div",Lt,[t[21]||(t[21]=e("span",null,"Hutang Lama:",-1)),e("span",{class:$(["font-bold",m.value>0?"text-red-600":"text-green-600"])},o(r(m.value)),3)]),t[24]||(t[24]=e("div",{class:"h-px bg-gray-300 my-2"},null,-1)),e("div",Ft,[t[22]||(t[22]=e("span",null,"Total Harus Dibayar:",-1)),e("span",null,o(r(te.value)),1)]),e("div",Ot,[t[23]||(t[23]=e("span",null,"Uang Masuk:",-1)),e("span",null,o(r(f.value)),1)]),e("div",Yt,[e("div",{class:$(["flex justify-between text-2xl font-extrabold",P.value>=0?"text-green-600":"text-red-600"])},[e("span",null,o(P.value>=0?"KEMBALIAN":"KURANG BAYAR"),1),e("span",null,o(r(Math.abs(P.value))),1)],2)])])]),e("div",Gt,[e("button",{ref_key:"submitButtonRef",ref:Z,type:"submit",onClick:J(Ce,["prevent"]),disabled:w.value||S.value===0,class:"w-full h-14 btn-submit text-xl font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transition-all disabled:opacity-50"},[w.value?(d(),u("svg",Qt,t[25]||(t[25]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):h("",!0),ie(" "+o(w.value?"MEMPROSES...":"SELESAIKAN TRANSAKSI (ENTER)"),1)],8,Jt)])])])):h("",!0)]),_:1}))}}),sa=ze(Wt,[["__scopeId","data-v-a8976b72"]]);export{sa as default};
